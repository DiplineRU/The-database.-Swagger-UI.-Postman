ru text

#  Ð’Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ Ð² Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…

> ÐŸÑ€Ð¸Ð²ÐµÑ‚! ÐÐ° ÑÐ²ÑÐ·Ð¸ Ð´Ð¾Ð¼Ð°ÑˆÐ½ÐµÐµ Ð·Ð°Ð´Ð°Ð½Ð¸Ðµ ÑƒÑ€Ð¾ÐºÐ° 3.3. Ð’Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ Ð² Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ….
Ð’ Ð¿Ñ€Ð¾ÑˆÐ»Ð¾Ð¼ Ð´Ð¾Ð¼Ð°ÑˆÐ½ÐµÐ¼ Ð·Ð°Ð´Ð°Ð½Ð¸Ð¸ Ð¼Ñ‹ ÑÐ¾Ð·Ð´Ð°Ð»Ð¸ Ð¿Ð¾Ð»Ð½Ð¾Ñ†ÐµÐ½Ð½Ð¾Ðµ RESTful-Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ñ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾Ð¹ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð¾Ð¹. Ð’ ÑÑ‚Ð¾Ð¼ Ð¼Ñ‹ Ð½Ð°Ñ‡Ð½ÐµÐ¼ Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²Ð¾Ð²Ð°Ñ‚ÑŒ Ñ Ð±Ð°Ð·Ð¾Ð¹ Ð´Ð°Ð½Ð½Ñ‹Ñ….

Ð¦ÐµÐ»ÑŒ ÑÐµÐ³Ð¾Ð´Ð½ÑÑˆÐ½ÐµÐ¹ Ð´Ð¾Ð¼Ð°ÑˆÐ½ÐµÐ¹ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ â€” ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð¸ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ Ñ Ð±Ð°Ð·Ð¾Ð¹ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¸ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð»Ð¾Ð³Ð¸ÐºÑƒ Ð² ÑÐµÑ€Ð²Ð¸ÑÐ½Ñ‹Ñ… ÐºÐ»Ð°ÑÑÐ°Ñ…, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð²ÑÐµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÐ»Ð¸ÑÑŒ Ð² Ð‘Ð”.

*Ð¡Ñ€ÐµÐ´Ð½ÐµÐµ Ð²Ñ€ÐµÐ¼Ñ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ: 120 Ð¼Ð¸Ð½ÑƒÑ‚.*
> 

**Ð¨Ð°Ð³ 1**

Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð‘Ð” PostgreSQL. Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð±Ð°Ð·Ñƒ Ð´Ð°Ð½Ð½Ñ‹Ñ… hogwarts. Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ student Ñ Ð¿Ð°Ñ€Ð¾Ð»ÐµÐ¼ chocolatefrog.


 **ðŸ’¡ÐšÑ€Ð¸Ñ‚ÐµÑ€Ð¸Ð¸ Ð¾Ñ†ÐµÐ½ÐºÐ¸:** 
 
- ÐÐ° ÐºÐ¾Ð¼Ð¿ÑŒÑŽÑ‚ÐµÑ€ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð° Ð±Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ… PostgreSQL. Ð¡Ð¾Ð·Ð´Ð°Ð½Ð° Ð±Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¸ Ñ€Ð¾Ð»ÑŒ Ð´Ð»Ñ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð° Ðº Ð½ÐµÐ¹.


**Ð¨Ð°Ð³ 2**

Ð’ application.properties Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¾Ð¿Ð¸ÑÐ°Ñ‚ÑŒ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ðµ Ð°Ñ‚Ñ€Ð¸Ð±ÑƒÑ‚Ñ‹:

- spring.datasource.url â€” Ð¿ÑƒÑ‚ÑŒ Ð´Ð¾ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð½Ð¾Ð¹ Ð‘Ð”;
- spring.datasource.username â€” Ð¸Ð¼Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ Ð´Ð»Ñ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ, Ð² Ð½Ð°ÑˆÐµÐ¼ ÑÐ»ÑƒÑ‡Ð°Ðµ ÑÑ‚Ð¾ student;
- spring.datasource.password â€” Ð¿Ð°Ñ€Ð¾Ð»ÑŒ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ: chocolatefrog;
- spring.jpa.hibernate.ddl = update.

 

 **ðŸ’¡ÐšÑ€Ð¸Ñ‚ÐµÑ€Ð¸Ð¸ Ð¾Ñ†ÐµÐ½ÐºÐ¸:** 
 
 - Ð’ Ñ„Ð°Ð¹Ð» application.properties Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ñ‹ Ñ‡ÐµÑ‚Ñ‹Ñ€Ðµ ÑÐ²Ð¾Ð¹ÑÑ‚Ð²Ð°. ÐŸÑ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð·Ð°Ð¿ÑƒÑÐºÐ°ÐµÑ‚ÑÑ Ð±ÐµÐ· Ð¾ÑˆÐ¸Ð±Ð¾Ðº.



**Ð¨Ð°Ð³ 3**

Ð˜Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð¼Ð¾Ð´ÐµÐ»Ð¸ Student Ð¸ Faculty. Ðš ÐºÐ°Ð¶Ð´Ð¾Ð¼Ñƒ ÐºÐ»Ð°ÑÑÑƒ Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð°Ð½Ð½Ð¾Ñ‚Ð°Ñ†Ð¸ÑŽ @Entity. Ð Ðº Ð¿Ð¾Ð»ÑŽ id Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð´Ð²Ðµ Ð°Ð½Ð½Ð¾Ñ‚Ð°Ñ†Ð¸Ð¸: @Id Ð¸ @GeneratedValue.

Ð Ñ‚Ð°ÐºÐ¶Ðµ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¿Ð°ÐºÐµÑ‚ repository, Ð² ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¼ Ð±ÑƒÐ´ÑƒÑ‚ Ð½Ð°Ñ…Ð¾Ð´Ð¸Ñ‚ÑŒÑÑ Ð´Ð²Ð° Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÐ°: StudentRepository Ð¸ FacultyRepository. ÐžÐ±Ð° ÑÑ‚Ð¸Ñ… Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÐ° Ð½Ð°ÑÐ»ÐµÐ´ÑƒÑŽÑ‚ JpaRepository. Ð”Ð»Ñ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÐ° StudentRepository Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ ÑƒÐºÐ°Ð·Ð°Ñ‚ÑŒ, Ñ‡Ñ‚Ð¾ Ð² JpaRepository Ð½Ð°Ð´Ð¾ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ Ñ Ð¼Ð¾Ð´ÐµÐ»ÑŒÑŽ Student. Ð”Ð»Ñ FacultyRepository ÑƒÐºÐ°Ð·Ð°Ñ‚ÑŒ Faculty.


 **ðŸ’¡ÐšÑ€Ð¸Ñ‚ÐµÑ€Ð¸Ð¸ Ð¾Ñ†ÐµÐ½ÐºÐ¸:** 
 - Ð’ Ð¼Ð¾Ð´ÐµÐ»Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ñ‹ Ð°Ð½Ð½Ð¾Ñ‚Ð°Ñ†Ð¸Ð¸ @Entity, @Id Ð¸ @GeneratedValue. Ð¡Ð¾Ð·Ð´Ð°Ð½ Ð¿Ð°ÐºÐµÑ‚ repository. Ð’ Ð½ÐµÐ¼ Ð½Ð°Ñ…Ð¾Ð´ÑÑ‚ÑÑ Ð´Ð²Ð° Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÐ°: StudentRepository Ð¸ FacultyRepository.



**Ð¨Ð°Ð³ 4**

Ð’ ÑÐµÑ€Ð²Ð¸ÑÐ°Ñ… ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¸Ð²Ð°Ñ‚Ð½Ñ‹Ðµ Ð¿Ð¾Ð»Ñ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸ÐµÐ². Ð”Ð»Ñ StudentService ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ StudentRepository. Ð”Ð»Ñ FacultyService ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ FacultyRepository. Ð¡ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ð¾Ð² Ð¿Ð¾Ð´Ñ‚ÑÐ³Ð¸Ð²Ð°Ñ‚ÑŒ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Ð¸Ð· ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð° ÑÐ¿Ñ€Ð¸Ð½Ð³Ð° (@Autowire).

Ð’ ÑÐµÑ€Ð²Ð¸ÑÐ°Ñ… ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ HashMap, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð»Ð¸ Ð´Ð»Ñ Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ Ð´Ð°Ð½Ð½Ñ‹Ñ…, Ð¸ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ ÑÑ‡ÐµÑ‚Ñ‡Ð¸Ðº Ð¸Ð´ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ð¾Ñ€Ð°. Ð’Ð¼ÐµÑÑ‚Ð¾ Ð½Ð¸Ñ… ÑÐ»ÐµÐ´ÑƒÐµÑ‚ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð» Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸ÐµÐ².


**ðŸ’¡ÐšÑ€Ð¸Ñ‚ÐµÑ€Ð¸Ð¸ Ð¾Ñ†ÐµÐ½ÐºÐ¸:** 
- Ð’ ÑÐµÑ€Ð²Ð¸ÑÑ‹ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ñ‹ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¸. ÐŸÐµÑ€ÐµÐ´ÐµÐ»Ð°Ð½Ð° Ð»Ð¾Ð³Ð¸ÐºÐ° Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ñ Ð´Ð°Ð½Ð½Ñ‹Ð¼Ð¸. Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð²ÑÐµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ñ…Ñ€Ð°Ð½ÑÑ‚ÑÑ Ð² Ð‘Ð”, Ð° ÑÐµÑ€Ð²Ð¸ÑÑ‹ Ð¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ÑÑ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸ÑÐ¼Ð¸ Ð´Ð»Ñ Ð¸Ñ… Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ.


**Ð¨Ð°Ð³ 5**

ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð²ÑÐµ CRUD-Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹ Ñ‡ÐµÑ€ÐµÐ· Postman.



**ðŸ’¡ÐšÑ€Ð¸Ñ‚ÐµÑ€Ð¸Ð¹ Ð¾Ñ†ÐµÐ½ÐºÐ¸:**
- Ð’ÑÐµ Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹ Ð¾Ñ‚Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°ÑŽÑ‚, ÐºÐ°Ðº Ð¾Ð¶Ð¸Ð´Ð°ÐµÑ‚ÑÑ (Ð±ÐµÐ· 500 ÐºÐ¾Ð´Ð¾Ð² Ð² Ð¾Ñ‚Ð²ÐµÑ‚Ðµ).


eng text

# Introduction to databases

> Hello! In touch with the homework of lesson 3.3. Introduction to databases.
In the last homework assignment, we created a full-fledged RESTful application with a certain structure. In this, we will start interacting with the database.

The purpose of today's homework is to install and configure the application's interaction with the database and change the logic in the service classes so that all changes are saved in the database.

*Average execution time: 120 minutes.*
> 

**Step 1**

Install the PostgreSQL database. Create a hogwarts database. Create a student user with the password chocolatefrog.


 **ðŸ’¡Evaluation criteria:**

- The PostgreSQL database is installed on the computer. A database has been created and a role has been created to access it.


**Step 2**

In the application.properties of the application, specify the following attributes:

- spring.datasource.url â€” path to the installed database;
- spring.datasource.username is the username for the connection, in our case it is student;
- spring.datasource.password â€” user password: chocolatefrog;
- spring.jpa.hibernate.ddl = update.

 

 **ðŸ’¡Evaluation criteria:**

- Four properties have been added to the application.properties file. The application runs successfully without errors.



**Step 3**

Change the Student and Faculty models. Add the @Entity annotation to each class. And add two annotations to the id field: @Id and @GeneratedValue.

And also create a repository package, which will contain two interfaces: StudentRepository and FacultyRepository. Both of these interfaces inherit JpaRepository. For the StudentRepository interface, you need to specify that you need to work with the Student model in JpaRepository. For FacultyRepository, specify Faculty.


 **ðŸ’¡Evaluation criteria:** 
 - The annotations @Entity, @Id and @GeneratedValue have been added to the model. The repository package has been created. It contains two interfaces: StudentRepository and FacultyRepository.



**Step 4**

Create private repository fields in the services. Create a StudentRepository for StudentService. Create a FacultyRepository for FacultyService. Use constructors to pull up dependencies from the context of the spring (@Autowire).

In the services, delete the HashMap that was used to store data and delete the ID counter. The repository functionality should be used instead.


**ðŸ’¡Evaluation criteria:** 
- Repositories have been added to the services. The logic of working with data has been redesigned. Now all data is stored in the database, and services use repositories to get them.


**Step 5**

Check all CRUD requests via Postman.



**ðŸ’¡Evaluation criteria:**
- All requests are processed as expected (without 500 codes in the response).
